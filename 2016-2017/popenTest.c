#include <stdio.h>
#include <string.h>

int main()
{
    FILE *fp = NULL;
    char buf[1024];
    char idBuf[20][1024];
    int i = 0;
    if(NULL == (fp = popen("lsusb | awk '{print $6}'", "r"))){
        printf("command can't execute\n");
    }
    memset(buf, 0, sizeof(buf));
    memset(idBuf, 0, sizeof(idBuf));
    while(NULL != fgets(buf, sizeof(buf), fp)){
        strcat(idBuf[i++], buf);
    }

    while(i >= 0){
        printf("%s", idBuf[i]);
        i--;
        if(strncmp(idBuf[i], "14cd:1212", 9) == 0){
            printf("find it\n");
        };
    }
    pclose(fp);

    return 0;
}
